<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache" />
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8" />
<title>CouchDB Search data_prepare (Jul/10/2014)</title>
</head>
<body>
<h2>CouchDB Search data_prepare</h2><p />
Install cradle<p />
<blockquote>
<pre>
$ npm install cradle
cradle@0.6.7 node_modules/cradle
├── vargs@0.1.0
├── request@2.36.0 (tunnel-agent@0.4.0, json-stringify-safe@5.0.0, forever-agent@0.5.2, aws-sign2@0.5.0, qs@0.6.6, oauth-sign@0.3.0, node-uuid@1.4.1, mime@1.2.11, tough-cookie@0.12.1, form-data@0.1.4, http-signature@0.10.0, hawk@1.0.0)
└── follow@0.10.4 (debug@0.7.4, browser-request@0.3.1, request@2.30.0)
</pre>
</blockquote>

How to prepare data<p />
<blockquote>
#<br />
export http_proxy=""<br />
#<br />
export NODE_PATH=/home/uchida/node_modules<br />
#<br />
curl -X DELETE http://localhost:5984/librivox<br />
curl -X PUT http://localhost:5984/librivox<br />
#<br />
./<a href="data_register.js.txt">data_register.js</a> combined.json<br />
</blockquote>

How to prepare server side script<p />
<blockquote>
curl -X PUT http://localhost:5984/librivox/_design/myapp
	 -d@<a href="./ex02.json.txt">ex02.json</a><p />
curl -X PUT http://localhost:5984/librivox/_design/myapp3
	 -d@<a href="./ex03.json.txt">ex03.json</a><p />
</blockquote>

How to check the function<p />
<blockquote>
curl http://localhost:5984/librivox/_design/myapp/_view/ex02?key=\"Japanese\"<p />
curl http://localhost:5984/librivox/_design/myapp/_view/ex02?key=\"Italian\"<p />
curl http://localhost:5984/librivox/_design/myapp/_view/ex02?key=\"Polish\"<p />
</blockquote>
<blockquote>
curl http://localhost:5984/librivox/_design/myapp3/_view/ex03?key=\"Japanese\"<p />
curl http://localhost:5984/librivox/_design/myapp3/_view/ex03?key=\"Italian\"<p />
curl http://localhost:5984/librivox/_design/myapp3/_view/ex03?key=\"Polish\"<p />
</blockquote>

<hr />
Jul/10/2014 AM 08:15<p />
</body>
</html>
