<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache" />
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8" />
<meta content="Uchida Masatomo" name="author">
<title>AWS CLI</title>
</head>
<body>
<h2>AWS CLI</h2><p />

インストール<p />
<blockquote>
	Arch Linux<p />
	<blockquote>
	# pacman -S aws-cli<p />
	</blockquote>
	Ubuntu<p />
	<blockquote>
	# apt install awscli<p />
	</blockquote>

	Raspbian<p />
	<blockquote>
	# pip3 install awscli --upgrade<p />
	</blockquote>
</blockquote>

<blockquote>
	$ aws --version<br />
	aws-cli/1.14.26 Python/3.6.4 Linux/4.14.14-1-ARCH botocore/1.8.32<br />
</blockquote>

EC2<p />
<blockquote>
	$ aws ec2 describe-instances<p />
</blockquote>

S3<p />
<blockquote>
	$ aws s3 ls s3://s1.example.com<p />

	$ aws s3 cp index.html s3://s1.example.com/<p />

	$ aws s3 rm s3://s1.ekzemplaro.org/test01.txt<p />

	$ aws s3 sync . s3://s1.ekzemplaro.org --delete<p />
</blockquote>

IAM<p />
<blockquote>
	$ aws iam list-access-keys<p />
	$ aws iam list-users<p />
	$ aws iam list-roles<p />
</blockquote>

DynamoDB<p />
<blockquote>
	$ aws dynamodb list-tables<p />
	$ aws dynamodb delete-table --table-name table_aa<p />

	$ aws dynamodb list-tables --endpoint-url http://localhost:8000<p />
	$ aws dynamodb scan --table-name cities  --endpoint-url http://localhost:8000<p />
	$ aws dynamodb get-item --table-name cities --key '{"key": {"S": "t0921"}}' --endpoint-url http://localhost:8000<p />
	$  aws dynamodb scan --table-name  cities --endpoint-url http://localhost:8000 --query 'Count'<p />
	$ aws dynamodb scan --table-name tbl_raspberry --select "COUNT"<br />

</blockquote>

Lambda<p />
<blockquote>
	$ aws lambda list-functions<p />
	$ aws lambda list-functions | grep FunctionName<p />
	$ aws lambda delete-function --function-name func01<p />
</blockquote>

API Gateway<p />
<blockquote>
	$ aws apigateway get-rest-apis<p />
	$ aws apigateway delete-rest-api --rest-api-id 1234123412<p />
</blockquote>


Cloud Watch<p />
<blockquote>
	$ aws cloudwatch list-metrics --namespace "AWS/ApiGateway"<p />
</blockquote>

IOT<p />
<blockquote>
	$ aws iot create-thing --thing-name sunflower<p />
	$ aws iot list-things<p />
	$ aws iot describe-thing --thing-name sunflower<p />
	$ aws iot delete-thing --thing-name sunflower<p />
</blockquote>

RDS<p />
<blockquote>
	$ aws rds describe-db-instances<p />
	$ aws rds describe-db-instances | grep DBInstanceIdentifier<p />
	$ aws rds delete-db-instance --db-instance-identifier sample-test --skip-final-snapshot<p />
</blockquote>


SNS<p />
<blockquote>
	$ aws sns list-topics<p />
	$ aws sns create-topic --name example01<p />
	$ aws sns delete-topic --topic-arn "arn:aws:sns:ap-northeast-1:111111159025:example01"<p />
	$ aws sns subscribe --topic-arn "arn:aws:sns:ap-northeast-1:111111159025:example01" --protocol email --notification-endpoint "aaa@example.com"<p />
	$ aws sns list-subscriptions<p />
	$ aws sns unsubscribe --subscription-arn arn:aws:sns:ap-northeast-1:111111159025:example01:1328f057-de93-4c15-512e-8bb2268db8c4<p />
</blockquote>


<blockquote>
</blockquote>


<blockquote>
</blockquote>


<hr />
credentials.csv をダウンロードしたら<p />
	<blockquote>
	.aws/credentials に値を入れる<p />
		<blockquote>
		[default]<br />
		aws_access_key_id = AKIAJ*******<br />
		aws_secret_access_key = HilYZJZ3McInc4D**********<br />
		</blockquote>
	.aws/config<p />
		<blockquote>
		[default]<br />
		output = json<br />
		region = ap-northeast-1<br />
		</blockquote>
	</blockquote>

<hr />
<a href="../">Return</a><p />
Feb/05/2018 AM 08:15<p />
</body>
</html>
